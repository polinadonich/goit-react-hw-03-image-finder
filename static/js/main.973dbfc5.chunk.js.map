{"version":3,"sources":["components/SearchForm/SearchForm.module.css","App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","fetchImages.js","App.js","index.js"],"names":["module","exports","SearchForm","onSubmit","onChange","value","className","s","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","Searchbar","state","searchQuery","handleSearchQuery","e","setState","currentTarget","handleSubmit","preventDefault","props","toast","error","this","Component","ImageGalleryItem","webformatURL","largeImageURL","onOpenModal","onClick","target","dataset","large","src","alt","ImageGalleryItemImage","ImageGallery","imagePage","map","id","Button","Loader","loader","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","window","addEventListener","removeEventListener","createPortal","Overlay","bigImageUrl","API_KEY","BASE_URL","page","a","url","fetch","response","json","images","fetchImages","App","total","loading","showModal","toggleModal","formSubmitHandler","handleClickMoreImages","prevState","fetchFirstImagePage","prevProps","fetchNextImagePages","scrollTo","top","documentElement","scrollHeight","behavior","hits","notificationText","autoClose","position","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.973dbfc5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__3nIqi\",\"SearchFormButton\":\"SearchForm_SearchFormButton__3mIpt\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__5MNhw\",\"SearchFormInput\":\"SearchForm_SearchFormInput__Oi8ah\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3NcPv\",\"notificationText\":\"App_notificationText__24Bsx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__CMTE6\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2AxP-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__pSVkV\",\"Modal\":\"Modal_Modal__2NFmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2paf5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3lBjI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2kvDc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1E_RC\"};","import PropTypes from \"prop-types\";\nimport s from \"./SearchForm.module.css\";\n\nfunction SearchForm({ onSubmit, onChange, value }) {\n  return (\n    <form className={s.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.SearchFormButton}>\n        <span className={s.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        onChange={onChange}\n        value={value}\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string,\n};\n\nexport default SearchForm;\n","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\nimport SearchForm from \"../SearchForm\";\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleSearchQuery = (e) => {\n    this.setState({ searchQuery: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n    if (this.state.searchQuery === \"\") {\n      toast.error(\"Please, enter your request!\");\n    }\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <SearchForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleSearchQuery}\n          value={searchQuery}\n        />\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem(props) {\n  const { webformatURL, largeImageURL, onOpenModal } = props;\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        onClick={(e) => {\n          onOpenModal(e.target.dataset.large);\n        }}\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItemImage}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nfunction ImageGallery(props) {\n  const { imagePage, onOpenModal } = props;\n\n  return (\n    <ul className={s.ImageGallery}>\n      {imagePage.map(({ id, webformatURL, largeImageURL }) => {\n        return (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onOpenModal={onOpenModal}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  imagePage: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import LoaderSpiner from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nfunction Loader() {\n  return (\n    <LoaderSpiner\n      className={s.loader}\n      type=\"Circles\"\n      color=\"#3f51b5\"\n      height={100}\n      width={100}\n    />\n  );\n}\n\nexport default Loader;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.bigImageUrl} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","const API_KEY = \"23430004-cf3d84f40651496950214677e\";\nconst BASE_URL = \"https://pixabay.com/api\";\n\nasync function fetchImages(searchQuery, page) {\n  const url = `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${API_KEY}`;\n\n  const response = await fetch(url);\n  const images = await response.json();\n  //   this.setState({ loading: false });\n  return images;\n}\n\nexport default fetchImages;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport s from \"./App.module.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport Loader from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\nimport fetchImages from \"./fetchImages\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    imagePage: [],\n    page: 1,\n    total: null,\n    loading: false,\n    showModal: false,\n    bigImageUrl: \"\",\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    const page = this.state.page;\n    const searchQuery = this.state.searchQuery;\n    this.fetchFirstImagePage(searchQuery, page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const page = this.state.page;\n    const searchQuery = this.state.searchQuery;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ loading: true });\n      this.fetchFirstImagePage(searchQuery, page);\n    }\n    if (prevState.page !== page) {\n      this.fetchNextImagePages(searchQuery, page);\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  toggleModal = (bigImageUrl) => {\n    this.setState({\n      showModal: !this.state.showModal,\n      bigImageUrl,\n    });\n  };\n\n  async fetchNextImagePages(searchQuery, page) {\n    const { hits } = await fetchImages(searchQuery, page);\n    const images = hits.map(({ id, webformatURL, largeImageURL }) => {\n      return { id, webformatURL, largeImageURL };\n    });\n    this.setState((prevState) => ({\n      imagePage: [...prevState.imagePage, ...images],\n    }));\n  }\n\n  async fetchFirstImagePage(searchQuery, page) {\n    const { hits, total } = await fetchImages(searchQuery, page);\n    const images = hits.map(({ id, webformatURL, largeImageURL }) => {\n      return { id, webformatURL, largeImageURL };\n    });\n    this.setState({\n      imagePage: images,\n      total,\n      loading: false,\n    });\n  }\n\n  formSubmitHandler = (value) => {\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  handleClickMoreImages = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { searchQuery, imagePage, total, loading, showModal, bigImageUrl } =\n      this.state;\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.formSubmitHandler} />\n        <ImageGallery\n          searchQuery={searchQuery}\n          imagePage={imagePage}\n          onOpenModal={this.toggleModal}\n        />\n        {loading && <Loader />}\n        {total > 0 && <Button onClick={this.handleClickMoreImages} />}\n        {!loading && total === 0 && (\n          <p className={s.notificationText}>\n            Sorry, we do not have any images for your request\n          </p>\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal} bigImageUrl={bigImageUrl} />\n        )}\n        <ToastContainer\n          autoClose={2000}\n          position=\"top-right\"\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    {/* <p>Приветы</p> */}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}